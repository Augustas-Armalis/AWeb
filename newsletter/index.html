<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Armalis Agency Newsletter</title>

</head>

<body>

    <style>
        body{
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
            flex-direction: column;
        }
    </style>

<p>Sorry for the scrap up version<br>I'm doing my best to fix this as soon as possible</p>
<p>As of right now, feel free to join the waitlist!<br>Thankyou!</p>



          <form id="subscriptionForm" style="align-items: center; display: flex; flex-direction: column;">
            <input type="text" id="name" name="name" placeholder="Name" ><br>
            <input type="email" id="email" name="email" placeholder="Email"><br><br>
            <button type="submit" style="margin-top: 0px; margin-bottom: 0px;" class="sub-button">
              <p>Subscribe</p>
            </button>
          </form>
        

  <script>

    document.getElementById("subscriptionForm").addEventListener("submit", function (event) {
      event.preventDefault();

      const name = document.getElementById("name").value;
      const email = document.getElementById("email").value;
      const apiKey = "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiJ9.eyJhdWQiOiI0IiwianRpIjoiMTE4ZGJlYTk5OWMzNjkwYjY5MWYxODJiNmVhMjBmMDY5YjJlYTFhYThiNGViZjNmMDkxYmM3N2E0NmI3ZjEwYmRkNGU5MjgzNTE5MTY1OTMiLCJpYXQiOjE3MDg2ODg2MzcuNzUwMTQsIm5iZiI6MTcwODY4ODYzNy43NTAxNDQsImV4cCI6NDg2NDM2MjIzNy43NDUyOTUsInN1YiI6IjgzNzU4OCIsInNjb3BlcyI6W119.w-4-JmwM5gOZFBlQ3rbRPAt8YVb13MVH2xw0HvHfHVFNtJJEW5xhrTbQ14_JDsYWFNL-sOkHygbtfyOZVa1lO0EG25hwInANzN3d2q730CvfH3lRPZaoHl12HTRtTh1CprsKvuW5J_NMNxfY78R9TJv6MGkKZ6p2RD0oW-eyiu_feYUNUrC62P8P77kIRHLKn_JlqOVnpoB3cN4OSYL28cRZfls4geMj7d_2gOA8XOBIcGjZEqyGCMM145KOc30rAQsWymGD8vpifD8Jd-0UG6Y_J6NW0JcLr-o5ZrJfG8YqztS1Ls88A92ynSw2a-BgexwdXuNQw94_jCiq2MFQMHkptR0pW4G2kDk1b_fxqS5BarndnXOyj5_QtQ9X_f9oO5EF95Cb7sUgYN0n0GBszZL4-tDO1hIeYmjwz2Sba4aNMOtnwmatDW2Y4ynq_mOB2TsOe48Nbg91qyF4aCcx6T9riODAlMsV0E4kUUfPMM6LJyn-LLZ1WZ4x4mk24IsSZoFGg4fTkFkvE7yMem9q4IU4zdZ08n7ZYjTpf2vVvsT7a6uded-mb5dChiS6K2LriyjrsDbcQ74tQy1F7m8t0TdksZntVW_Vz0W_waUHH6SjBsDllmI5rL48wLC2O2lSd_pu22At3eLtSViMV80L3pLK61DPq39pRmuWL4oUBzM";

      fetch('https://connect.mailerlite.com/api/groups?filter[name]=Newsletter', {
        method: 'GET',
        headers: {
          'Content-Type': 'application/json',
          'Accept': 'application/json',
          'Authorization': `Bearer ${apiKey}`
        }
      })
        .then(response => {
          if (!response.ok) {
            throw new Error('Failed to retrieve group information');
          }
          return response.json();
        })
        .then(data => {
          const groupId = data.data[0].id;

          fetch('https://connect.mailerlite.com/api/subscribers', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              'Accept': 'application/json',
              'Authorization': `Bearer ${apiKey}`
            },
            body: JSON.stringify({
              email: email,
              fields: {
                name: name
              },
              groups: [groupId]
            })
          })
            .then(response => {
              if (!response.ok) {
                throw new Error('Subscription failed');
              }
              console.log('Subscription successful');

              alert('Thank you! Your subscription was successful.');
            })
            .catch(error => {
              console.error('Error:', error);
              alert('Subscription failed');
            });
        })
        .catch(error => {
          console.error('Error:', error);
          alert('Failed to retrieve group information');
        });
    });

    const timelinerasas = gsap.to(".star-absolute-free3", {
      rotation: 360,
      duration: 10,
      ease: "none",
      repeat: -1,
    });

    document.getElementById("subsribe-hover-on").addEventListener("mouseenter", () => {
      gsap.to(timelinerasas, { duration: 0.5, timeScale: 5 });
    });

    document.getElementById("subsribe-hover-on").addEventListener("mouseleave", () => {
      gsap.to(timelinerasas, { duration: 0.5, timeScale: 1 });
    });</script>

 

</body>

</html>